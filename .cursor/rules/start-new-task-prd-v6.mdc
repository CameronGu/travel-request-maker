---
description: >
  This is not a greenfield project. PRD v6 defines the task set, but parts of the codebase may already exist. 
  Review the existing codebase to determine what is complete, what requires refactoring, and what remains TODO. 
  Do not reimplement functionality that already exists. Use the Supabase MCP where applicable.

  Follow Taskmaster protocol: fetch the task, mark it in progress, and begin execution immediately. 
  Do not wait for user input unless blocked by ambiguity. Track progress and update status using the standard Taskmaster MCP flow.

  A task may only be marked as `done` after:
    1. Code, migration, or config has been implemented.
    2. The implementation is tested (unit, integration, pgTAP, or manual SQL).
    3. Tests have passed or manual verification is documented.
    4. Any test limitations are explained in chat and recorded in Implementation Details.

  Before marking a task as done, verify test coverage and successful results. 
  Do not assume correctness based on file creation alone.

  Refer to `docs/latest/prd.md` for architectural and feature specifications, including Lean-Pepper duplicate detection, RLS policies, and JWT claims.

globs:
  - "**/*"
alwaysApply: false
---